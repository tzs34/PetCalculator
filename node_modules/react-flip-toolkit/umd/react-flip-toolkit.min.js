!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("react")):"function"==typeof define&&define.amd?define(["react"],e):"object"==typeof exports?exports.ReactFlipToolkit=e(require("react")):t.ReactFlipToolkit=e(t.React)}(window,function(t){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=5)}([function(t,e,n){t.exports=n(4)()},function(e,n){e.exports=t},function(t,e,n){"use strict";n.r(e);var i=n(1),r=n.n(i),o=function(t){var e=t.unflippedIds,n=t.flipCallbacks,i=t.getElement,r=t.newFlipChildrenPositions,o=t.cachedFlipChildrenPositions,a=t.inProgressAnimations,s=e.filter(function(t){return r[t]&&n[t]}),l=e.filter(function(t){return o[t]&&n[t]&&n[t].onExit}),p=void 0,c=new Promise(function(t,e){p=t}),u=[],f=0,h=l.map(function(t,e){var i=o[t].domData,r=i.element,s=i.parent,l=i.childPosition,c=l.top,h=l.left,d=l.width,g=l.height;"static"===getComputedStyle(s).position&&(s.style.position="relative"),r.style.transform="matrix(1, 0, 0, 1, 0, 0)",r.style.position="absolute",r.style.top=c+"px",r.style.left=h+"px",r.style.height=g+"px",r.style.width=d+"px";var m=u.filter(function(t){return t[0]===s})[0];m||(m=[s,document.createDocumentFragment()],u.push(m)),m[1].appendChild(r),f+=1;var y=function(){try{s.removeChild(r),0==(f-=1)&&p()}catch(t){}};return a[t]={stop:y},function(){return n[t].onExit(r,e,y)}});u.forEach(function(t){var e=t[0],n=t[1];e.appendChild(n)}),h.length||p();return{hideEnteringElements:function(){s.forEach(function(t){n[t]&&n[t].onAppear&&(i(t).style.opacity="0")})},animateEnteringElements:function(){s.forEach(function(t,e){var r=i(t);n[t]&&n[t].onAppear&&n[t].onAppear(r,e)})},animateExitingElements:function(){return h.forEach(function(t){return t()}),c}}};function a(t){if(t.constructor!==Array)throw new TypeError("Expected array.");if(16===t.length)return t;if(6===t.length){var e=s();return e[0]=t[0],e[1]=t[1],e[4]=t[2],e[5]=t[3],e[12]=t[4],e[13]=t[5],e}throw new RangeError("Expected array with either 6 or 16 values.")}function s(){for(var t=[],e=0;e<16;e++)e%5==0?t.push(1):t.push(0);return t}function l(t,e){for(var n=a(t),i=a(e),r=[],o=0;o<4;o++)for(var s=[n[o],n[o+4],n[o+8],n[o+12]],l=0;l<4;l++){var p=4*l,c=[i[p],i[p+1],i[p+2],i[p+3]],u=s[0]*c[0]+s[1]*c[1]+s[2]*c[2]+s[3]*c[3];r[o+p]=u}return r}var p=function(t){return"number"==typeof t},c=function(t){return"[object Object]"===Object.prototype.toString.call(t)},u=function(t){return Array.prototype.slice.apply(t)},f=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.forEach(function(e){if(e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])}),t},h={noWobble:{stiffness:200,damping:26},gentle:{stiffness:120,damping:14},veryGentle:{stiffness:130,damping:17},wobbly:{stiffness:180,damping:12},stiff:{stiffness:260,damping:26}},d="data-flip-id",g="data-inverse-flip-id",m="data-flip-config",y="data-portal-key",v=function(t,e,n){var i=u(t(e)).map(function(t){return t.dataset.flipId});return n.filter(function(t){return i.indexOf(t)>-1})},_="["+d+"]",S=void 0;"undefined"!=typeof window&&(S=window.requestAnimationFrame);var E=S=S||function(t){window.setTimeout(t,1e3/60)},C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var b=Date.now(),O="object"===("undefined"==typeof performance?"undefined":C(performance))&&"function"==typeof performance.now?function(){return performance.now()}:function(){return Date.now()-b};function I(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}var w=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return t.prototype.run=function(){var t=this;E(function(){t.springSystem.loop(O())})},t}();function x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var T=function t(){x(this,t),this.position=0,this.velocity=0},A=function(){function t(e){x(this,t),this._id="s"+t._ID++,this._springSystem=e,this.listeners=[],this._startValue=0,this._currentState=new T,this._displacementFromRestThreshold=.001,this._endValue=0,this._overshootClampingEnabled=!1,this._previousState=new T,this._restSpeedThreshold=.001,this._tempState=new T,this._timeAccumulator=0,this._wasAtRest=!0}return t.prototype.getId=function(){return this._id},t.prototype.destroy=function(){this.listeners=[],this._springSystem.deregisterSpring(this)},t.prototype.setSpringConfig=function(t){return this._springConfig=t,this},t.prototype.getCurrentValue=function(){return this._currentState.position},t.prototype.getDisplacementDistanceForState=function(t){return Math.abs(this._endValue-t.position)},t.prototype.setEndValue=function(t){if(this._endValue===t&&this.isAtRest())return this;this._startValue=this.getCurrentValue(),this._endValue=t,this._springSystem.activateSpring(this.getId());for(var e=0,n=this.listeners.length;e<n;e++){var i=this.listeners[e].onSpringEndStateChange;i&&i(this)}return this},t.prototype.setVelocity=function(t){return t===this._currentState.velocity?this:(this._currentState.velocity=t,this._springSystem.activateSpring(this.getId()),this)},t.prototype.setOvershootClampingEnabled=function(t){return this._overshootClampingEnabled=t,this},t.prototype.isOvershooting=function(){var t=this._startValue,e=this._endValue;return this._springConfig.tension>0&&(t<e&&this.getCurrentValue()>e||t>e&&this.getCurrentValue()<e)},t.prototype.advance=function(e,n){var i=this.isAtRest();if(!i||!this._wasAtRest){var r=n;n>t.MAX_DELTA_TIME_SEC&&(r=t.MAX_DELTA_TIME_SEC),this._timeAccumulator+=r;for(var o=this._springConfig.tension,a=this._springConfig.friction,s=this._currentState.position,l=this._currentState.velocity,p=this._tempState.position,c=this._tempState.velocity,u=void 0,f=void 0,h=void 0,d=void 0,g=void 0,m=void 0,y=void 0,v=void 0;this._timeAccumulator>=t.SOLVER_TIMESTEP_SEC;)this._timeAccumulator-=t.SOLVER_TIMESTEP_SEC,this._timeAccumulator<t.SOLVER_TIMESTEP_SEC&&(this._previousState.position=s,this._previousState.velocity=l),u=l,f=o*(this._endValue-p)-a*l,p=s+u*t.SOLVER_TIMESTEP_SEC*.5,h=c=l+f*t.SOLVER_TIMESTEP_SEC*.5,d=o*(this._endValue-p)-a*c,p=s+h*t.SOLVER_TIMESTEP_SEC*.5,g=c=l+d*t.SOLVER_TIMESTEP_SEC*.5,m=o*(this._endValue-p)-a*c,p=s+g*t.SOLVER_TIMESTEP_SEC,y=c=l+m*t.SOLVER_TIMESTEP_SEC,v=1/6*(f+2*(d+m)+(o*(this._endValue-p)-a*c)),s+=1/6*(u+2*(h+g)+y)*t.SOLVER_TIMESTEP_SEC,l+=v*t.SOLVER_TIMESTEP_SEC;this._tempState.position=p,this._tempState.velocity=c,this._currentState.position=s,this._currentState.velocity=l,this._timeAccumulator>0&&this._interpolate(this._timeAccumulator/t.SOLVER_TIMESTEP_SEC),(this.isAtRest()||this._overshootClampingEnabled&&this.isOvershooting())&&(this._springConfig.tension>0?(this._startValue=this._endValue,this._currentState.position=this._endValue):(this._endValue=this._currentState.position,this._startValue=this._endValue),this.setVelocity(0),i=!0);var _=!1;this._wasAtRest&&(this._wasAtRest=!1,_=!0);var S=!1;i&&(this._wasAtRest=!0,S=!0),this.notifyPositionUpdated(_,S)}},t.prototype.notifyPositionUpdated=function(t,e){for(var n=0,i=this.listeners.length;n<i;n++){var r=this.listeners[n];t&&r.onSpringActivate&&r.onSpringActivate(this),r.onSpringUpdate&&r.onSpringUpdate(this),e&&r.onSpringAtRest&&r.onSpringAtRest(this)}},t.prototype.systemShouldAdvance=function(){return!this.isAtRest()||!this.wasAtRest()},t.prototype.wasAtRest=function(){return this._wasAtRest},t.prototype.isAtRest=function(){return Math.abs(this._currentState.velocity)<this._restSpeedThreshold&&(this.getDisplacementDistanceForState(this._currentState)<=this._displacementFromRestThreshold||0===this._springConfig.tension)},t.prototype._interpolate=function(t){this._currentState.position=this._currentState.position*t+this._previousState.position*(1-t),this._currentState.velocity=this._currentState.velocity*t+this._previousState.velocity*(1-t)},t.prototype.addListener=function(t){return this.listeners.push(t),this},t.prototype.removeListener=function(t){return I(this.listeners,t),this},t}();A._ID=0,A.MAX_DELTA_TIME_SEC=.064,A.SOLVER_TIMESTEP_SEC=.001;var P=A;var R=new(function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.looper=e||new w,this.looper.springSystem=this,this.listeners=[],this._activeSprings=[],this._idleSpringIndices=[],this._isIdle=!0,this._lastTimeMillis=-1,this._springRegistry={}}return t.prototype.createSpring=function(t,e){return this.createSpringWithConfig({tension:t,friction:e})},t.prototype.createSpringWithConfig=function(t){var e=new P(this);return this.registerSpring(e),e.setSpringConfig(t),e},t.prototype.getIsIdle=function(){return this._isIdle},t.prototype.registerSpring=function(t){this._springRegistry[t.getId()]=t},t.prototype.deregisterSpring=function(t){I(this._activeSprings,t),delete this._springRegistry[t.getId()]},t.prototype.advance=function(t,e){for(;this._idleSpringIndices.length>0;)this._idleSpringIndices.pop();for(var n=0,i=this._activeSprings.length;n<i;n++){var r=this._activeSprings[n];if(!r)return;r.systemShouldAdvance()?r.advance(t/1e3,e/1e3):this._idleSpringIndices.push(this._activeSprings.indexOf(r))}for(;this._idleSpringIndices.length>0;){var o=this._idleSpringIndices.pop();o>=0&&this._activeSprings.splice(o,1)}},t.prototype.loop=function(t){var e=void 0;-1===this._lastTimeMillis&&(this._lastTimeMillis=t-1);var n=t-this._lastTimeMillis;this._lastTimeMillis=t;var i=0,r=this.listeners.length;for(i=0;i<r;i++)(e=this.listeners[i]).onBeforeIntegrate&&e.onBeforeIntegrate(this);for(this.advance(t,n),0===this._activeSprings.length&&(this._isIdle=!0,this._lastTimeMillis=-1),i=0;i<r;i++)(e=this.listeners[i]).onAfterIntegrate&&e.onAfterIntegrate(this);this._isIdle||this.looper.run()},t.prototype.activateSpring=function(t){var e=this._springRegistry[t];-1===this._activeSprings.indexOf(e)&&this._activeSprings.push(e),this.getIsIdle()&&(this._isIdle=!1,this.looper.run())},t}()),F=function(t){var e=t.springConfig,n=e.stiffness,i=e.damping,r=e.overshootClamping,o=t.noOp,a=t.onSpringActivate,s=t.getOnUpdateFunc,l=t.onAnimationEnd;if(!o){var p=R.createSpring(n,i);return p.setOvershootClampingEnabled(!!r),p.addListener({onSpringActivate:a,onSpringUpdate:s(p.destroy.bind(p)),onSpringAtRest:function(){p.destroy(),l()}}),p}},V=function t(e){e&&e.forEach(function(e){!function(t){var e=F(t);e?e.setEndValue(1):t.onSpringActivate()}(e),t(e.immediate)})},M=function(t){var e=t.flipDict,n=t.topLevelChildren,i=t.initiateStaggeredAnimations,r={root:{staggeredChildren:{},immediateChildren:[]}};return n.forEach(function(t){!function t(n,r){var o=e[r];o&&(o.stagger?n.staggeredChildren[o.stagger]?n.staggeredChildren[o.stagger].push(o):n.staggeredChildren[o.stagger]=[o]:n.immediateChildren.push(o),o.onSpringActivate=function(){V(o.immediateChildren),i(o.staggeredChildren)},o.staggeredChildren={},o.immediateChildren=[],o.childIds.forEach(function(e){return t(o,e)}))}(r.root,t)}),r},j=function(t){var e=t.staggerConfig,n=t.flipDict,i=t.topLevelChildren,r=function(t){t&&Object.keys(t).length&&Object.keys(t).forEach(function(n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t&&t.length){e.reverse&&t.reverse();var n=e.speed?1+Math.max(Math.min(e.speed,0),1):1.1,i=1/Math.max(Math.min(t.length,100),10),r=t.filter(function(t){return!t.noOp}).map(function(t,e){var o=t.getOnUpdateFunc;return t.getOnUpdateFunc=function(t){var a=o(t);return function(t){var o=t.getCurrentValue();o>i&&r[e+1]&&r[e+1].setEndValue(Math.min(o*n,1)),a(t)}},t}).map(function(t){return F(t)});r[0]&&r[0].setEndValue(1)}}(t[n],e[n])})},o=M({flipDict:n,topLevelChildren:i,initiateStaggeredAnimations:r});V(o.root.immediateChildren),r(o.root.staggeredChildren)},D=function(t){return[0,1,4,5,12,13].map(function(e){return t[e]})},k=function(t){var e=t.top,n=t.bottom,i=t.left,r=t.right;return e<window.innerHeight&&n>0&&i<window.innerWidth&&r>0},L=function(t,e,n){return t+(e-t)*n},K=function(t){var e=t.flippedIds,n=t.flipCallbacks,i=t.inProgressAnimations,r=t.cachedFlipChildrenPositions,o=t.newFlipChildrenPositions,d=t.applyTransformOrigin,m=t.spring,y=t.getElement,S=t.debug,E=t.staggerConfig,C=t.decisionData,b=t.scopedSelector,O=document.querySelector("body"),I=void 0,w=new Promise(function(t,e){I=t}),x=void 0,T=[];S&&console.error('[react-flip-toolkit]\nThe "debug" prop is set to true. All FLIP animations will return at the beginning of the transition.');var A,P=(A=e.reduce(function(t,e){return t[e]=t[e]?t[e]+1:1,t},{}),Object.keys(A).filter(function(t){return A[t]>1}));P.length&&console.error("[react-flip-toolkit]\nThere are currently multiple elements with the same flipId on the page.\nThe animation will only work if each Flipped component has a unique flipId.\nDuplicate flipId"+(P.length>1?"s":"")+": "+P.join("\n"));var R=e.map(function(t){var e=r[t].rect,v=o[t].rect,_=r[t].opacity,S=o[t].opacity,E=v.width<1||v.height<1;if(!k(e)&&!k(v))return!1;if(0===e.width&&0===v.width||0===e.height&&0===v.height)return!1;var b=y(t);if(!b)return!1;var w=JSON.parse(b.dataset.flipConfig),A=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.flipperSpring,n=t.flippedSpring,i=function(t){return c(t)?t:h[t]?h[t]:{}};return f({},h.noWobble,i(e),i(n))}({flipperSpring:m,flippedSpring:w.spring}),P=!0===w.stagger?"default":w.stagger,R={element:b,id:t,stagger:P,springConfig:A,noOp:!0};if(n[t]&&n[t].shouldFlip&&!n[t].shouldFlip(C.prev,C.current))return R;if(e.left===v.left&&e.top===v.top&&e.width===v.width&&e.height===v.height&&_===S)return R;R.noOp=!1;var F,V,M=function(t){if("string"==typeof t){var e=t.match(/matrix(3d)?\(([^)]+)\)/);if(e)return a(e[2].split(", ").map(parseFloat))}return s()}(o[t].transform),j={matrix:M},K={},U=[M];w.translate&&(U.push((F=e.left-v.left,(V=s())[12]=F,V)),U.push(function(t){var e=s();return e[13]=t,e}(e.top-v.top))),w.scale&&(U.push(function(t){var e=s();return e[0]=t,e}(Math.max(e.width,1)/Math.max(v.width,1))),U.push(function(t){var e=s();return e[5]=t,e}(Math.max(e.height,1)/Math.max(v.height,1)))),w.opacity&&(K.opacity=_,j.opacity=S);var q=[];n[t]&&n[t].shouldInvert&&!n[t].shouldInvert(C.prev,C.current)||(q=function(t,e){return u(t.querySelectorAll("["+g+'="'+e+'"]'))}(b,t).map(function(t){return[t,JSON.parse(t.dataset.flipConfig)]})),K.matrix=D(U.reduce(l)),j.matrix=D(j.matrix);var X=function(t){var e=t.element,n=t.invertedChildren,i=t.body;return function(t){var r=t.matrix,o=t.opacity,a=t.forceMinVals;if(p(o)&&(e.style.opacity=o),a&&(e.style.minHeight="1px",e.style.minWidth="1px"),r){var s=function(t){return"matrix("+t.join(", ")+")"}(r);s="matrix(1, 0, 0, 1, 0, 0)"===s?"matrix(1, 0.0001, -0.0001, 1, 0, 0)":s,e.style.transform=s,n&&function(t){var e=t.invertedChildren,n=t.matrix,i=t.body;e.forEach(function(t){var e=t[0],r=t[1];if(i.contains(e)){var o=n[0],a=n[3],s=n[4],l=n[5],p={translateX:0,translateY:0,scaleX:1,scaleY:1},c="";r.translate&&(p.translateX=-s/o,p.translateY=-l/a,c+="translate("+p.translateX+"px, "+p.translateY+"px)"),r.scale&&(p.scaleX=1/o,p.scaleY=1/a,c+=" scale("+p.scaleX+", "+p.scaleY+")"),e.style.transform=c}})}({invertedChildren:n,matrix:r,body:i})}}}({element:b,invertedChildren:q,body:O}),B=void 0;if(n[t]&&n[t].onComplete){var W=n[t].onComplete;B=function(){return W(b,C.prev,C.current)}}var N=p(K.opacity)&&K.opacity!==j.opacity,Y=!1;return f({},R,{stagger:P,springConfig:A,getOnUpdateFunc:function(e){return i[t]={stop:e,onComplete:B},function(i){Y||(Y=!0,n[t]&&n[t].onStart&&n[t].onStart(b,C.prev,C.current));var r=i.getCurrentValue();if(O.contains(b)){var o={};o.matrix=K.matrix.map(function(t,e){return L(t,j.matrix[e],r)}),N&&(o.opacity=L(K.opacity,j.opacity,r)),X(o)}else e()}},initializeFlip:function(){X({matrix:K.matrix,opacity:N&&K.opacity,forceMinVals:E}),w.transformOrigin?b.style.transformOrigin=w.transformOrigin:d&&(b.style.transformOrigin="0 0"),q.forEach(function(t){var e=t[0],n=t[1];n.transformOrigin?e.style.transformOrigin=n.transformOrigin:d&&(e.style.transformOrigin="0 0")})},onAnimationEnd:function(){delete i[t],"function"==typeof B&&B(),E&&b&&(b.style.minHeight="",b.style.minWidth=""),T.push(t),T.length>=x.length&&I()}})}).filter(function(t){return t});if((x=R.filter(function(t){var e=t.initializeFlip;return Boolean(e)})).forEach(function(t){return(0,t.initializeFlip)()}),!S){var F=R.reduce(function(t,e){return t[e.id]=e,t},{}),V=function(t){var e=t.flipDict,n=t.flippedIds,i=t.scopedSelector,r={};return function t(o,a,s){var l=o+" "+_,p=v(i,l,n),c=s.filter(function(t){return-1===p.indexOf(t)});r[a]=c,c.forEach(function(t){e[t]&&(e[t].level=a)}),0!==p.length&&t(l,a+1,p)}(_,0,v(i,_,n)),Object.keys(e).forEach(function(t){var i=e[t];i.childIds=v(function(t){return i.element.querySelectorAll(t)},_,n),i.childIds=i.childIds.filter(function(t){return r[i.level+1]&&r[i.level+1].indexOf(t)>-1})}),{topLevelChildren:r[0]}}({flipDict:F,flippedIds:e,scopedSelector:b}).topLevelChildren;return function(){return x.length||I(),j({topLevelChildren:V,flipDict:F,staggerConfig:E}),w}}},U=function(t,e){var n;return f(t,((n={})[e[0]]=e[1],n))},q=function(t,e){return u(e?document.querySelectorAll("["+y+'="'+e+'"]'):t.querySelectorAll("["+d+"]"))},X=function(t){var e=t.element,n=t.flipCallbacks,i=void 0===n?{}:n,r=t.inProgressAnimations,o=void 0===r?{}:r,a=t.portalKey,s=q(e,a),l=u(e.querySelectorAll("["+g+"]")),p={},c=[],h={};s.filter(function(t){return i&&i[t.dataset.flipId]&&i[t.dataset.flipId].onExit}).forEach(function(t){var e=t.parentNode;if(t.closest){var n=t.closest("[data-exit-container]");n&&(e=n)}var i=c.findIndex(function(t){return t[0]===e});-1===i&&(c.push([e,e.getBoundingClientRect()]),i=c.length-1),p[t.dataset.flipId]=c[i][1],h[t.dataset.flipId]=e});var d=s.map(function(t){var e={},n=t.getBoundingClientRect();if(i&&i[t.dataset.flipId]&&i[t.dataset.flipId].onExit){var r=p[t.dataset.flipId];f(e,{element:t,parent:h[t.dataset.flipId],childPosition:{top:n.top-r.top,left:n.left-r.left,width:n.width,height:n.height}})}return[t.dataset.flipId,{rect:n,opacity:parseFloat(window.getComputedStyle(t).opacity),domData:e}]}).reduce(U,{});return function(t){Object.keys(t).forEach(function(e){t[e].stop&&t[e].stop(),delete t[e]})}(o),s.concat(l).forEach(function(t){t.style.transform="",t.style.opacity=""}),{flippedElementPositions:d,cachedOrderedFlipIds:s.map(function(t){return t.dataset.flipId})}},B=function(t,e){return e?function(t){return document.querySelectorAll("["+y+"="+e+"]"+t)}:function(e){return t.querySelectorAll(e)}},W=function(t){var e=t.cachedOrderedFlipIds,n=void 0===e?[]:e,i=t.inProgressAnimations,r=void 0===i?{}:i,a=t.cachedFlipChildrenPositions,s=void 0===a?{}:a,l=t.flipCallbacks,p=void 0===l?{}:l,c=t.containerEl,u=t.applyTransformOrigin,h=t.spring,g=t.debug,m=t.portalKey,y=t.staggerConfig,v=void 0===y?{}:y,_=t.decisionData,S=void 0===_?{}:_,E=t.handleEnterUpdateDelete,C=function(t){var e=t.element,n=t.portalKey;return q(e,n).map(function(t){var e=window.getComputedStyle(t),n=t.getBoundingClientRect();return[t.dataset.flipId,{rect:n,opacity:parseFloat(e.opacity),domData:{},transform:e.transform}]}).reduce(U,{})}({element:c,portalKey:m}),b=B(c,m),O=function(t,e){return function(n){return B(t,e)("["+d+'="'+n+'"]')[0]}}(c,m),I=function(t){return s[t]&&C[t]},w=Object.keys(s).concat(Object.keys(C)).filter(function(t){return!I(t)}),x={flipCallbacks:p,getElement:O,cachedFlipChildrenPositions:s,newFlipChildrenPositions:C,inProgressAnimations:r},T=o(f({},x,{unflippedIds:w})),A=T.hideEnteringElements,P=T.animateEnteringElements,R=T.animateExitingElements,F=n.filter(I),V=f({},x,{flippedIds:F,applyTransformOrigin:u,spring:h,debug:g,staggerConfig:v,decisionData:S,scopedSelector:b}),M=K(V);E?E({hideEnteringElements:A,animateEnteringElements:P,animateExitingElements:R,animateFlippedElements:M}):(A(),R().then(P),M())};var N=Object(i.createContext)("flip"),Y=Object(i.createContext)("portal"),H=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var i=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return i.inProgressAnimations={},i.flipCallbacks={},i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getSnapshotBeforeUpdate=function(t){return t.flipKey!==this.props.flipKey?X({element:this.el,flipCallbacks:this.flipCallbacks,inProgressAnimations:this.inProgressAnimations,portalKey:this.props.portalKey}):null},e.prototype.componentDidUpdate=function(t,e,n){this.props.flipKey!==t.flipKey&&W({cachedFlipChildrenPositions:n.flippedElementPositions,cachedOrderedFlipIds:n.cachedOrderedFlipIds,containerEl:this.el,inProgressAnimations:this.inProgressAnimations,flipCallbacks:this.flipCallbacks,applyTransformOrigin:this.props.applyTransformOrigin,spring:this.props.spring,debug:this.props.debug,portalKey:this.props.portalKey,staggerConfig:this.props.staggerConfig,handleEnterUpdateDelete:this.props.handleEnterUpdateDelete,decisionData:{prev:t.decisionData,current:this.props.decisionData}})},e.prototype.render=function(){var t=this,e=this.props,n=e.element,i=e.className,o=e.portalKey,a=n;return r.a.createElement(Y.Provider,{value:o},r.a.createElement(N.Provider,{value:this.flipCallbacks},r.a.createElement(a,{className:i,ref:function(e){return t.el=e}},this.props.children)))},e}(i.Component);H.defaultProps={applyTransformOrigin:!0,element:"div"};var z=H,J=n(0),G=n.n(J),Q=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function Z(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}G.a.node.isRequired,G.a.bool,G.a.bool,G.a.bool,G.a.string,G.a.oneOfType([G.a.string,G.a.object]),G.a.func,G.a.func,G.a.func,G.a.func,G.a.func,G.a.func,G.a.string,G.a.oneOfType([G.a.string,G.a.bool]);function $(t){var e,n=t.children,r=t.flipId,o=t.inverseFlipId,a=t.portalKey,s=Z(t,["children","flipId","inverseFlipId","portalKey"]),l=void 0;try{l=i.Children.only(n)}catch(t){throw new Error("Each Flipped component must wrap a single child")}s.scale||s.translate||s.opacity||f(s,{translate:!0,scale:!0,opacity:!0});var p=((e={})[d]=r,e[g]=o,e[m]=JSON.stringify(s),e);return a&&(p[y]=a),Object(i.cloneElement)(l,p)}var tt=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(){var t=this.props,e=t.children,n=t.flipId,i=t.shouldFlip,o=t.shouldInvert,a=t.onAppear,s=t.onStart,l=t.onComplete,p=t.onExit,u=Z(t,["children","flipId","shouldFlip","shouldInvert","onAppear","onStart","onComplete","onExit"]);return u.inverseFlipId?r.a.createElement($,u,e):r.a.createElement(Y.Consumer,null,function(t){return r.a.createElement(N.Consumer,null,function(f){return c(f)&&(f[n]={shouldFlip:i,shouldInvert:o,onAppear:a,onStart:s,onComplete:l,onExit:p}),r.a.createElement($,Q({flipId:n},u,{portalKey:t}),e)})})},e}(i.Component),et=function(t){var e,n=t.children;return Object(i.cloneElement)(n,((e={})["data-exit-container"]=!0,e))};n.d(e,"Flipper",function(){return z}),n.d(e,"Flipped",function(){return tt}),n.d(e,"ExitContainer",function(){return et});e.default={Flipper:z,Flipped:tt,ExitContainer:et}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";var i=n(3);function r(){}t.exports=function(){function t(t,e,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n,n}},function(t,e,n){t.exports=n(2)}]).default});
//# sourceMappingURL=react-flip-toolkit.min.js.map